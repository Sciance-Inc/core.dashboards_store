version: 2

seeds:
  - name: indicateurs_pevr_cdpvd
    description: Mapping des indicateurs communs avec leur description.
    columns:
      - name: id_indicateur_cdpvd
        description: Identifiant de l'indicateur de la cdpvd
        tests:
          - not_null
      - name: id_indicateur_css
        description: Mapping optionnel des indicateurs personalisés des css.
        tests:
          - unique
      - name: description_indicateur
        description: Description de l'indicateur
        tests:
          - not_null
          - unique
      - name: cible
        description: Pourcentage ciblé
      - name: Code_matière
        description: Code matière optionnel. Ex -> 132508
      - name: no_competence
        description: Le numéro de compétence du code matière.
    config:
      tags:
        - pevr
      schema: dashboard_pevr_seeds
      column_types:
        id_indicateur_cdpvd: nvarchar(max)
        id_indicateur_css: nvarchar(max)
        description_indicateur: nvarchar(max)
        cible: float
        code_matiere: nvarchar(max)
        no_competence: nvarchar(max)

  - name: custom_indicateurs_pevr_cdpvd
    description: mapping optionnel des indicateurs personalisés des css.
    columns:
      - name: id_indicateur_cdpvd
        description: Identifiant de l'indicateur de la cdpvd 
        tests:
          - not_null
      - name: id_indicateur_css
        description: Mapping optionnel des indicateurs personalisés des css.
        tests:
          - unique
      - name: description_indicateur
        description: Description de l'indicateur
        tests:
          - not_null
          - unique
      - name: cible
        description: Pourcentage ciblé par la CSS.
      - name: Code_matière
        description: Code matière optionnel. Ex -> 132508
      - name: no_competence
        description: Le numéro de compétence du code matière.
    config:
      tags:
        - pevr
      schema: dashboard_pevr_seeds
      column_types:
        id_indicateur_css: nvarchar(max)
        id_indicateur_cdpvd: nvarchar(max)
        description_indicateur: nvarchar(max)
        cible: float
        code_matiere: nvarchar(max)
        no_competence: nvarchar(max)

  - name: indicateur_pevr_charl
    description: mapping obligatoire des données tirées de charlemagne.
    columns:
      - name: id_indicateur_cdpvd
        description: L'identification unique du PEVR
        tests:
          - not_null
      - name: annee_scolaire
        description: L'année scolaire
        tests:
          - not_null
      - name: taux
        description: Le pourcentage lié à l'indicateur et l'année scolaire
        tests:
          - not_null
      - name: cible
        description: Pourcentage ciblé
        tests:
          - not_null
    config:
      tags:
        - pevr
      schema: dashboard_pevr_seeds
      column_types:
        id_indicateur: nvarchar(max)
        annee_scolaire: nvarchar(max)
        taux: decimal(5,3)
        cible: float