# Absences des employé(e)s

> [!NOTE]
> Suivre les absences des employés dans les différents lieux de travail sur une période sélectionnée. Le tableau de bord affiche les taux d’absentéisme, les tendances hebdomadaires et les totaux par catégorie, avec des filtres pour la plage de dates, le type d’emploi, le lieu de travail, et plus encore.

## Déploiement
![tag:emp_abs](https://img.shields.io/badge/tag-emp_abs-brightgreen)
![new in v.019.0](https://img.shields.io/badge/new-v0.18.0%2B20250611-yellow)


## Bases de données
La base de données `paie` doit être liée au projet. Veuillez vous référer à la section [Lier une base de données](/using/configuration/databases) pour plus d'informations sur la façon de lier une base de données.

## Magasins de données (marts)

Les magasins de données (marts) suivants doivent être activés pour que le tableau de bord fonctionne. Veuillez vous référer à la section [enabling a mart](/using/configuration/enabling) pour plus d’informations sur la manière d’activer un magasin de données.
- `human_resources`

## Seed

Le tableau de bord nécessite les 3 seeds suivantes : `ens_qualification`, `statut_enseignant` et `secteur`. Veuillez consulter la section sur l'amorçage [seeding](/using/configuration/adapts-seeds) pour plus d'informations sur l'amorçage d'un mart. Ces seeds sont nécessaires pour peupler les sujets sanctionnées. Comme vous n'aurez pas besoin de les remplacer, vous pouvez simplement exécuter la commande suivante pour créer la seed :  
`dbt seed --select +tag:emp_abs`  

Les seeds sont décrites à cet endroit : `seeds/marts/human_resources/schema.yml`

 ### etat_empl
   **Champs obligatoires :**
   1. `etat_empl` : Code unique de la qualification  
   2. `descr` : Description du code de qualification  
   3. `etat_actif` : Indique si l’employé est actif  
   4. `empl_retr` : Indique si l’employé est retraité  
   5. `empl_cong` : Indique si l’employé est en congé  
   6. `cong_lt` : Indique si l’employé est en congé de longue durée
   7. `duree` : Type de durée : 0 = Courte durée, 1 = Longue durée

   **Nouveaux champs :**
   1. `duree` : Type de durée : 0 = Courte durée, 1 = Longue durée

---
 ### type_absence
   **Champs obligatoires :**
   1. `motif_id` : Identifiant unique du motif d’absence  
   2. `statut` : Statut du motif : 0 = actif, 1 = inactif  

La seed "Secteur" est décrite à cet endroit : `seeds/dashboards/human_resources/schema.yml`   
---
 ### secteur
   **Champs obligatoires :**
   1. `lieu_trav` : Le numéro de l'unité administrative ou de l'école
   2. `secteur_Id` : L'ID du secteur géographique ou subdivition de votre territoire
   3. `secteur_Descr` : Description du secteur géographique ou subdivition de votre territoire

## Spécification du projet dbt
### Configuration requise
1. Mettez à jour votre fichier  `cssXX.dashboards_store/dbt_project.yml` avec l'extrait de code suivant :
```yaml
# cssXX.dashboards_store/dbt_project.yml
models:
  core_dashboards_store:
    marts:
      human_resources:
        +enabled: True
    dashboards:
      human_resources:
        emp_abs:
          +enabled: true
    interfaces:
      paie:
        +enabled: true
```

### Définition de la variable code_paiement 
La variable code_paiement est requise pour que les absences ayant ce code de paiement ne soient pas prises en compte. Cette variable DOIT être définie pour que le tableau de bord fonctionne correctement. ::
```yaml
#cssXX.data.dbe/dbt_project.yml
vars:
  dashboards:
    emp_abs:
      code_paiement: ###% -- E.g. '[103525]'
```

